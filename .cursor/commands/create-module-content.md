# Create Module Content

Helps non-engineers scaffold a new module and generate content using AI.

## When to Use

Use this command to create a new module and implement its content. The command will automatically run the module generator first, then implement the content.

## Step-by-Step Process

When invoked, follow these steps:

1. **Get the module name from the user**
   - Extract the module name from the command (e.g., `/create-module-content my-module`)
   - If not provided, ask: "What is the name of the module you want to create?"

2. **Check if the module already exists**
   - Check if `modules/<module-name>/` directory exists
   - If it exists, skip to step 4
   - If it doesn't exist, proceed to step 3

3. **Run the module generator**
   - Execute: `yarn create-module <module-name>`
   - Wait for the generator to complete (it will create the structure and register the module)
   - The generator automatically:
     - Creates the module structure in `modules/<module-name>/`
     - Registers the module in `module-registry.ts`
     - Runs `yarn install` and `nx sync`

4. **Read the current module files**
   - Read `modules/<module-name>/src/lib/module.tsx`
   - Read `modules/<module-name>/src/lib/client-module.tsx`
   - Read `modules/<module-name>/src/index.ts` (to verify exports)
   - Understand the current state

5. **Get content requirements from the user**
   - If the user provided requirements in the command, use those
   - Otherwise, ask:
     - "What type of content should this module teach?"
     - "What interactive elements do you want? (quizzes, forms, buttons, calculators, etc.)"
     - "Any specific UI components or features needed?"

6. **Generate server component** (`module.tsx`)
   - Update the existing `module.tsx` file
   - Ensure it's an async function `Module()` (no props)
   - Add data fetching if needed (can be mocked for now)
   - Render `<ClientModule />` with any necessary props
   - Ensure no "use client" directive
   - Add helpful comments

7. **Generate client component** (`client-module.tsx`)
   - Update the existing `client-module.tsx` file
   - Ensure `"use client"` directive is at the top
   - Create function `ClientModule()` with appropriate props
   - Use UI components from `@learning-monorepo-poc/ui` (Card, Button, etc.)
   - Implement interactive features requested
   - Apply Tailwind CSS classes for styling
   - Use React hooks (useState, useEffect) as needed
   - Make it visually appealing and user-friendly

8. **Verify exports**
   - Check that `src/index.ts` exports `Module` correctly (should already be done by generator)

9. **Provide test instructions**
   - Remind user to check `/projects/<module-name>` in the browser
   - Suggest running `yarn dev` if not already running
   - Let them know the module is ready to use

## Key Rules

- **Always use the generator first**: Run `yarn create-module <module-name>` before implementing content
- **Server Component** (`module.tsx`): No "use client", can call server APIs, fetches data
- **Client Component** (`client-module.tsx`): Must have "use client", handles interactions
- **UI Components**: Import from `@learning-monorepo-poc/ui`
- **Styling**: Use Tailwind CSS classes
- **TypeScript**: Use proper types
- **Pattern**: Follow existing modules in `modules/` directory
- **Don't manually create module files**: The generator handles all setup

## Example Workflow

```
User: /create-module-content math-basics. Create an interactive calculator

1. Extract module name: "math-basics"
2. Check if exists â†’ doesn't exist
3. Run: yarn create-module math-basics
4. Read generated files
5. Use requirements: "interactive calculator"
6. Generate module.tsx (server component)
7. Generate client-module.tsx (calculator UI)
8. Verify exports
9. Done! Module ready at /projects/math-basics
```

## Example Output Structure

```tsx
// module.tsx (Server Component - generated by generator, then updated)
import { ClientModule } from "./client-module";

export async function Module() {
  // Server-side data fetching can go here
  return <ClientModule />;
}

// client-module.tsx (Client Component - generated by generator, then updated)
"use client";
import { Card, Button } from "@learning-monorepo-poc/ui";

export function ClientModule() {
  // Interactive UI with hooks and event handlers
  return (
    <Card className="p-6">
      {/* Content here */}
    </Card>
  );
}
```

## For Non-Engineers

- You only need to provide the module name and describe what you want
- Cursor will automatically run the generator to create the module structure
- Cursor will then implement the content based on your requirements
- The result will be a working module accessible in the browser at `/projects/<module-name>`
